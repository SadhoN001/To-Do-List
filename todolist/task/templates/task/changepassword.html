{% extends 'task/base.html' %}
{% load static %}

{% block title %}
   Change Password
{% endblock title %}

{% block main-content %}
<div class="container mx-auto my-10 p-6">
    <div class="grid grid-cols-1 md:grid-cols-12 gap-6">
        <h3 class="col-span-1 md:col-span-12 text-xl font-semibold text-center md:text-left">
            Welcome {{ request.user.username|capfirst }}
        </h3>
        
        <!-- Sidebar (Full width on mobile, 3 columns on desktop) -->
        <div class="col-span-1 md:col-span-3 border-r md:border-gray-300 md:pr-4">
            <ul class="space-y-2">
                <li>
                    <a href="#" class="block text-center bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 transition">
                        Change Password
                    </a>
                </li>
            </ul>
        </div>

        <!-- Form Section (Full width on mobile, 9 columns on desktop) -->
        <div class="col-span-1 md:col-span-9">
            <form action="" method="post" novalidate class="bg-white shadow-lg rounded-lg p-6 max-w-lg mx-auto">
                {% csrf_token %}
                
                {% for fm in form %}
                    <div class="mb-4">
                        <label class="block font-medium text-gray-700">{{ fm.label_tag }}</label>
                        {{ fm }}
                        {% if fm.errors %}
                            <small class="text-red-500">{{ fm.errors|striptags }}</small>
                        {% endif %}
                    </div>
                {% endfor %}
                
                <button type="submit" class="w-full bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 transition">
                    Submit
                </button>
                
                {% if form.non_field_errors %}
                    {% for error in form.non_field_errors %}
                        <p class="mt-3 text-red-500">{{ error }}</p>
                    {% endfor %}
                {% endif %}
            </form>
        </div>
    </div>
</div>
{% endblock main-content %}
